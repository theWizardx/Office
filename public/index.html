<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Control</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Press+Start+2P&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="calendar.css">
  <link rel="stylesheet" href="tasks.css">
  <link rel="stylesheet" href="projects.css">
  <link rel="stylesheet" href="chat.css">
  <link rel="stylesheet" href="council.css">
  <link rel="stylesheet" href="memory.css">
</head>
<body>
  <!-- Top Navigation -->
  <nav class="top-nav">
    <div class="nav-logo">
      <span class="nav-logo-icon">&#8984;</span>
      <span class="nav-logo-text">Mission<br>Control</span>
    </div>
    <div class="nav-tabs">
      <a class="nav-tab" data-tab="tasks">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z"/></svg>
        Tasks
      </a>
      <a class="nav-tab" data-tab="chat">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"/></svg>
        Chat
      </a>
      <a class="nav-tab" data-tab="council">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"/></svg>
        Council
      </a>
      <a class="nav-tab" data-tab="calendar">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/></svg>
        Calendar
      </a>
      <a class="nav-tab" data-tab="projects">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"/></svg>
        Projects
      </a>
      <a class="nav-tab" data-tab="memory">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path d="M13 7H7v6h6V7z"/><path fill-rule="evenodd" d="M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z" clip-rule="evenodd"/></svg>
        Memory
      </a>
      <a class="nav-tab" data-tab="captures">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/></svg>
        Captures
      </a>
      <a class="nav-tab" data-tab="docs">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/></svg>
        Docs
      </a>
      <a class="nav-tab" data-tab="people">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/></svg>
        People
      </a>
      <a class="nav-tab" data-tab="org">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v1a2 2 0 002 2h4a2 2 0 002-2V4a2 2 0 00-2-2H5zm0 10a2 2 0 00-2 2v1a2 2 0 002 2h2a2 2 0 002-2v-1a2 2 0 00-2-2H5zm8 0a2 2 0 00-2 2v1a2 2 0 002 2h2a2 2 0 002-2v-1a2 2 0 00-2-2h-2zM9 7v2h2V7H9zm-2 3v2H5v-2h2zm8 0v2h-2v-2h2z" clip-rule="evenodd"/></svg>
        Org
      </a>
      <a class="nav-tab active" data-tab="office">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd"/></svg>
        Office
      </a>
      <a class="nav-tab" data-tab="search">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/></svg>
        Search
      </a>
    </div>
  </nav>

  <!-- Page: Tasks (kanban board) -->
  <div id="page-tasks" class="page">
    <div class="tasks-page">
      <div class="tasks-page-header" id="tasks-page-header"></div>
      <div class="tasks-board" id="tasks-board"></div>
    </div>
  </div>

  <!-- Page: Chat (activity feed) -->
  <div id="page-chat" class="page">
    <div class="chat-page">
      <div class="chat-toolbar">
        <div class="chat-filters">
          <button class="chat-filter-btn active" data-filter="tools">Tools</button>
          <button class="chat-filter-btn active" data-filter="agents">Agents</button>
          <button class="chat-filter-btn active" data-filter="idle">Idle</button>
        </div>
        <button class="chat-clear-btn" id="chat-clear-btn">Clear</button>
      </div>
      <div class="chat-feed" id="chat-feed">
        <div class="chat-empty" id="chat-empty">No events yet. Activity will appear here in real-time.</div>
      </div>
      <button class="chat-jump-btn" id="chat-jump-btn">&#8595; Jump to latest</button>
    </div>
  </div>

  <!-- Page: Council (team coordination) -->
  <div id="page-council" class="page">
    <div class="council-page">
      <div class="council-teams-empty" id="council-teams-empty">
        No team activity yet. Team events will appear here when agents coordinate.
      </div>
      <div class="council-toolbar" id="council-toolbar">
        <button class="council-all-btn active" id="council-all-btn">All Teams</button>
      </div>
      <div class="council-content" id="council-content">
        <div class="council-messages" id="council-messages">
          <div class="council-msg-empty" id="council-msg-empty">No messages yet.</div>
        </div>
        <div class="council-sidebar">
          <div class="council-tasks-panel">
            <div class="council-tasks-header">Tasks</div>
            <div class="council-task-columns">
              <div class="council-task-col">
                <div class="council-task-col-header">Pending <span class="council-count-badge" id="council-pending-count">0</span></div>
                <div class="council-task-col-body" id="council-task-pending"></div>
              </div>
              <div class="council-task-col">
                <div class="council-task-col-header">Active <span class="council-count-badge" id="council-active-count">0</span></div>
                <div class="council-task-col-body" id="council-task-active"></div>
              </div>
              <div class="council-task-col">
                <div class="council-task-col-header">Done <span class="council-count-badge" id="council-done-count">0</span></div>
                <div class="council-task-col-body" id="council-task-done"></div>
              </div>
            </div>
          </div>
          <div class="council-graph-panel">
            <div class="council-graph-header">Connections</div>
            <canvas id="council-graph-canvas" width="200" height="150"></canvas>
            <div class="council-graph-empty" id="council-graph-empty">No connections yet.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Page: Office (pixel art) -->
  <div id="page-office" class="page active">
    <header class="office-header">
      <h1 class="header-title">Claude Code Office</h1>
      <div class="live-indicator">
        <span class="live-dot"></span>
        <span>LIVE</span>
      </div>
    </header>
    <main class="canvas-wrapper">
      <div class="canvas-container">
        <canvas id="office-canvas" width="960" height="540"></canvas>
      </div>
    </main>
    <footer class="status-bar">
      <div class="status-item">
        <span class="connection-dot" id="connection-dot"></span>
        <span id="connection-text">Connecting...</span>
      </div>
      <div class="status-item">
        <span class="status-label">Events:</span>
        <span id="event-counter">0</span>
      </div>
      <div class="status-item">
        <span class="status-label">Agents:</span>
        <span id="active-agents">0</span>
      </div>
      <div class="status-item">
        <span id="current-time"></span>
      </div>
    </footer>
  </div>

  <!-- Page: Calendar -->
  <div id="page-calendar" class="page">
    <div class="calendar-page">
      <div id="cal-container" class="calendar-container"></div>
      <div class="calendar-panel" id="cal-panel">
        <div class="panel-header">
          <h3 class="panel-date" id="panel-date">Select a day</h3>
        </div>
        <div class="panel-tasks" id="panel-tasks">
          <div class="panel-empty">Select a day to view tasks</div>
        </div>
        <div class="panel-add">
          <input type="text" class="panel-input" id="task-input" placeholder="Add a task...">
          <button class="panel-add-btn" id="task-add-btn">Add</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Page: Projects -->
  <div id="page-projects" class="page">
    <div class="projects-page">
      <div id="projects-live"></div>
      <div class="proj-live-divider"></div>
      <div class="proj-header" id="projects-page-header"></div>
      <div id="projects-board"></div>
    </div>
  </div>

  <!-- Page: Memory -->
  <div id="page-memory" class="page">
    <div class="memory-page">
      <div class="memory-toolbar" id="memory-toolbar"></div>
      <div class="memory-file-info" id="memory-file-info"></div>
      <div class="memory-content">
        <div class="memory-viewer" id="memory-viewer">
          <div class="memory-viewer-empty" id="memory-viewer-empty">Select a memory file to view its contents.</div>
        </div>
        <div class="memory-sidebar">
          <div class="memory-cards-panel">
            <div class="memory-section-header">Knowledge</div>
            <div class="memory-cards-list" id="memory-cards">
              <div class="memory-cards-empty" id="memory-cards-empty">No knowledge cards yet.</div>
            </div>
          </div>
          <div class="memory-gauge-panel">
            <div class="memory-section-header">Context Window</div>
            <div class="memory-gauge">
              <div class="memory-gauge-fill" id="memory-gauge-bar"></div>
            </div>
            <div class="memory-gauge-label" id="memory-gauge-label">0 / 200 lines (0%)</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Page: Org Chart -->
  <div id="page-org" class="page">
    <div class="org-page">
      <div id="org-chart-container" class="org-chart"></div>
    </div>
  </div>

  <script src="sprites.js"></script>
  <script src="office.js"></script>
  <script src="org.js"></script>
  <script src="event-bus.js"></script>
  <script src="calendar.js"></script>
  <script src="tasks.js"></script>
  <script src="projects.js"></script>
  <script src="chat.js"></script>
  <script src="council.js"></script>
  <script src="memory.js"></script>
  <script src="app.js"></script>
</body>
</html>
